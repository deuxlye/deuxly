{{ if .Site.Config.Services.Disqus.Shortname }}
<div class="komen">
    <div class="widget-judul">Komentar</div>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "{{ .Permalink }}";
            this.page.identifier = "{{ .File.UniqueID }}";
            
            // LOGIKA DETEKSI DARK MODE SAAT LOAD
            // Jika HTML punya atribut data-tema="gelap", set Disqus ke dark
            if (document.documentElement.getAttribute('data-tema') === 'gelap') {
                this.colorScheme = 'dark';
            } else {
                this.colorScheme = 'light';
            }
        };
        
        (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://{{ .Site.Config.Services.Disqus.Shortname }}.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
{{ end }}